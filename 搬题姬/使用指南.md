# 搬题姬使用指南

## 📁 目录结构说明

```
搬题姬/
├── SKILL.md              # 技能定义文件
├── 使用指南.md           # 本指南文件
└── question/             # 题目模板目录
    ├── std.cpp          # 标准程序模板
    ├── mkdata.cpp       # 测试数据生成器主程序
    ├── mkin.h           # 测试数据生成逻辑
    ├── problem.yaml     # 题目配置文件
    ├── spj.cpp          # 特殊评判程序模板
    ├── testlib.h        # 测试库头文件
    └── testdata/        # 测试数据目录
        ├── config.yaml  # 测试配置文件
        ├── 1.in         # 样例输入1
        ├── 1.out        # 样例输出1
        └── ...          # 其他测试数据
```

## 🔧 工作原理

### 1. 环境初始化流程
```
奴家 → 检查技能目录下的question目录
      ↓
      确认必要文件存在: std.cpp, mkdata.cpp, mkin.h, problem.yaml
      ↓
      复制question目录到work目录
      ↓
      验证环境完整性
```

### 2. 题目处理流程
```
接收题目信息 → 解析题面 → 生成problem_zh.md
      ↓
      配置problem.yaml → 实现std.cpp算法
      ↓
      编写mkin.h测试逻辑 → 生成测试数据
      ↓
      验证答案正确性 → 打包发布
```

## 📋 必要文件清单

### 核心模板文件
- `std.cpp`: 标准程序实现模板
- `mkdata.cpp`: 测试数据生成主程序
- `mkin.h`: 测试数据生成逻辑函数
- `problem.yaml`: 题目基本信息配置
- `testlib.h`: OJ测试库支持文件

### 可选文件
- `spj.cpp`: 特殊评判程序（仅当需要时）
- `testdata/`: 存放生成的测试数据文件

## 🎯 AI引导机制说明

### 引导策略
奴家在生成题面时会巧妙嵌入以下四种AI引导机制：

1. **算法倾向引导**
   - 在题目描述中暗示某种解法倾向
   - 例如："考虑到数据规模较大，建议使用高效算法"
   - 实际上可能存在更简单的解法

2. **变量命名暗示**
   - 在样例解释中暗示特定变量名
   - 例如："设ans为最终答案"、"用cnt计数"
   - 引导AI采用特定的命名习惯

3. **边界条件误导**
   - 强调某些边界情况的重要性
   - 例如："特别注意空输入和极大值情况"
   - 让AI过度关注特定边界处理

4. **解题思路诱导**
   - 提供看似合理的解题步骤
   - 例如："可以先排序再二分查找"
   - 即使问题本身不需要这些步骤

### 引导特点
- ✅ **隐蔽性强**：引导内容逻辑合理，不易被察觉
- ✅ **效果显著**：AI容易受明确指示影响
- ✅ **人类免疫**：经验丰富的解题者会自然忽略
- ✅ **不影响正确性**：引导的解法仍能得到正确答案

### 识别效果
通过这种机制生成的题目，AI解题时会表现出明显特征：
- 采用被引导的算法思路
- 使用暗示的变量命名
- 过度处理被强调的边界情况
- 遵循提供的解题步骤

而人工解题通常更加直接自然，较少受到这些引导影响。

## ⚡ 快速开始

### 启动搬题姬
当您说"搬运题目"时，奴家会自动：
1. 在 `/home/fslong/.qoder/skills/搬题姬/question/` 查找模板目录
2. 创建 `work` 工作目录
3. 准备好所有必要文件

### 提供题目信息
您可以提供以下任意一种形式的题目信息：
- **URL链接**: `https://leetcode.com/problems/two-sum`
- **HTML代码**: 直接粘贴网页HTML内容
- **纯文本描述**: 简单的文字描述题目要求
- **创作需求**: `请根据贪心算法创作题目`

## 🎯 常见问题解答

### Q: 为什么找不到question目录？
A: 请确认以下几点：
- 技能目录结构是否完整：`搬题姬/question/` 必须存在
- 必要文件是否齐全：`std.cpp`, `mkdata.cpp`, `mkin.h`, `problem.yaml`
- 文件权限是否正确：目录应具有读取权限

### Q: AI引导机制会不会影响题目质量？
A: 不会！引导机制经过精心设计：
- 所有引导内容在逻辑上都说得通
- 不会误导解题者得到错误答案
- 人类经验丰富的解题者能自然识别并忽略这些引导
- 只有AI容易受到这些明确指示的影响

### Q: 如何识别被引导的AI代码？
A: 被引导的AI代码通常表现出以下特征：
- 严格按照题面暗示的算法思路实现
- 使用题面中暗示的变量命名
- 过度处理被强调的边界情况
- 遵循题面提供的解题步骤
- 代码风格相对刻板，缺乏灵活性

### Q: 如何自定义测试数据生成？
A: 修改 `mkin.h` 文件中的 `test()` 函数：
```cpp
void test(int case_num, ofstream& fout)
{
    if (case_num == 1) {
        // 样例测试
        fout << "输入数据" << endl;
    } else if (case_num <= 5) {
        // 小数据测试
        fout << "小规模数据" << endl;
    } else {
        // 随机数据测试
        fout << "随机生成的数据" << endl;
    }
}
```

### Q: 如何调整测试用例数量？
A: 修改 `mkin.h` 中的常量：
```cpp
const int TEST_CASES = 25;  // 默认25个测试用例
```

### Q: 生成的题目包在哪里？
A: 完成后会在当前目录生成：
- `work/` 目录：完整的工作目录
- `[题目名].zip` 文件：打包的题目文件

## 🛠️ 高级功能

### AtCoder风格题目创作
奴家支持根据指定知识点创作全新题目：
```
用户: 请根据二分查找算法创作题目
奴家: 将设计有趣的背景故事 → 构造算法问题 → 生成完整题目包
```

### 特殊评判支持
当题目有多种正确答案时：
1. 奴家会自动生成 `spj.cpp`
2. 实现相应的评判逻辑
3. 配置特殊的评测规则

## 🔒 注意事项

1. **不要手动修改question模板目录** - 这会影响所有后续题目生成
2. **所有操作在work目录进行** - 保护原始模板不受影响
3. **保留生成的目录结构** - 方便后续调试和修改
4. **验证测试数据正确性** - 确保std.cpp能通过所有测试

## 📞 故障排除

如果遇到问题，请按以下步骤检查：

1. **目录结构检查**：
   ```bash
   ls -la 搬题姬/question/
   ```

2. **文件完整性检查**：
   ```bash
   ls -la 搬题姬/question/std.cpp 搬题姬/question/mkdata.cpp 搬题姬/question/mkin.h 搬题姬/question/problem.yaml
   ```

3. **权限检查**：
   ```bash
   ls -ld 搬题姬/question/
   ls -l 搬题姬/question/
   ```

如有其他问题，请随时告诉奴家！