# News Skills å®šæ—¶æ¨é€é…ç½®æŒ‡å—

## ğŸ“– æ¦‚è¿°

News Skills æ”¯æŒå¤šç§å®šæ—¶æ¨é€æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚å’ŒæŠ€æœ¯æ°´å¹³é€‰æ‹©æœ€é€‚åˆçš„æ–¹æ¡ˆã€‚

---

## æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ Windows ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼ˆæ¨èï¼‰

### é€‚ç”¨åœºæ™¯
- Windows ç”¨æˆ·
- ä¸æƒ³å†™ä»£ç 
- éœ€è¦å›¾å½¢åŒ–ç•Œé¢é…ç½®

### é…ç½®æ­¥éª¤

#### 1. åˆ›å»ºæ‰¹å¤„ç†è„šæœ¬

åœ¨ `news/scripts` ç›®å½•ä¸‹åˆ›å»º `daily_news.bat`ï¼š

```batch
@echo off
cd /d C:\Your\Path\To\news\scripts
python fetch_news.py --source hackernews,github,36kr,producthunt --limit 15 --format markdown
```

#### 2. æ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åº

- æŒ‰ `Win + R`ï¼Œè¾“å…¥ `taskschd.msc`ï¼Œå›è½¦

#### 3. åˆ›å»ºåŸºæœ¬ä»»åŠ¡

1. ç‚¹å‡»å³ä¾§ **"åˆ›å»ºåŸºæœ¬ä»»åŠ¡"**
2. åç§°ï¼š`æ¯æ—¥ç§‘æŠ€æ—©æŠ¥`
3. æè¿°ï¼š`æ¯å¤©æ—©ä¸Š 8 ç‚¹è‡ªåŠ¨è·å–ç§‘æŠ€æ–°é—»`
4. ç‚¹å‡» **"ä¸‹ä¸€æ­¥"**

#### 4. è®¾ç½®è§¦å‘å™¨

1. é€‰æ‹© **"æ¯å¤©"**
2. å¼€å§‹æ—¶é—´ï¼š`08:00:00`
3. é‡å¤å‘¨æœŸï¼šæ¯å¤©
4. ç‚¹å‡» **"ä¸‹ä¸€æ­¥"**

#### 5. è®¾ç½®æ“ä½œ

1. é€‰æ‹© **"å¯åŠ¨ç¨‹åº"**
2. ç¨‹åºæˆ–è„šæœ¬ï¼š`C:\Your\Path\To\news\scripts\daily_news.bat`
3. ç‚¹å‡» **"ä¸‹ä¸€æ­¥"**

#### 6. å®Œæˆ

ç‚¹å‡» **"å®Œæˆ"**ï¼Œä»»åŠ¡åˆ›å»ºæˆåŠŸï¼

### æµ‹è¯•ä»»åŠ¡

åœ¨ä»»åŠ¡è®¡åˆ’ç¨‹åºä¸­ï¼š
1. æ‰¾åˆ°åˆšåˆ›å»ºçš„ä»»åŠ¡
2. å³é”® â†’ **"è¿è¡Œ"**
3. æ£€æŸ¥æ˜¯å¦æ­£å¸¸ç”ŸæˆæŠ¥å‘Š

---

## æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ Python è„šæœ¬ + schedule åº“

### é€‚ç”¨åœºæ™¯
- è·¨å¹³å°ï¼ˆWindows/Mac/Linuxï¼‰
- éœ€è¦æ›´çµæ´»çš„æ§åˆ¶
- å¼€å‘è€…å‹å¥½

### å®‰è£…ä¾èµ–

```bash
pip install schedule
```

### åˆ›å»ºè°ƒåº¦è„šæœ¬

åœ¨ `news/scripts` ç›®å½•ä¸‹åˆ›å»º `scheduler.py`ï¼š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
News Skills å®šæ—¶è°ƒåº¦å™¨
æ”¯æŒæ¯å¤©å®šæ—¶æ¨é€æ–°é—»åˆ°æŒ‡å®šä½ç½®
"""
import schedule
import time
import subprocess
import sys
from pathlib import Path
from datetime import datetime

# é…ç½®
SCRIPT_DIR = Path(__file__).parent
PYTHON = sys.executable
REPORTS_DIR = SCRIPT_DIR / "reports"

def fetch_daily_news():
    """è·å–æ¯æ—¥ç§‘æŠ€æ–°é—»"""
    print(f"[{datetime.now()}] å¼€å§‹è·å–æ¯æ—¥ç§‘æŠ€æ—©æŠ¥...")

    cmd = [
        PYTHON,
        str(SCRIPT_DIR / "fetch_news.py"),
        "--source", "hackernews,github,36kr,producthunt,tencent",
        "--limit", "15",
        "--format", "markdown"
    ]

    try:
        result = subprocess.run(cmd, capture_output=True, text=True, encoding='utf-8')
        print(f"[{datetime.now()}] æ–°é—»è·å–æˆåŠŸ")
        return True
    except Exception as e:
        print(f"[{datetime.now()}] é”™è¯¯: {e}")
        return False

def fetch_ai_news():
    """è·å– AI ä¸“é¢˜æ–°é—»"""
    print(f"[{datetime.now()}] å¼€å§‹è·å– AI ä¸“é¢˜æ–°é—»...")

    cmd = [
        PYTHON,
        str(SCRIPT_DIR / "fetch_news.py"),
        "--source", "hackernews,github,producthunt",
        "--keyword", "AI",
        "--limit", "20",
        "--deep",
        "--format", "markdown"
    ]

    try:
        result = subprocess.run(cmd, capture_output=True, text=True, encoding='utf-8')
        print(f"[{datetime.now()}] AI æ–°é—»è·å–æˆåŠŸ")
        return True
    except Exception as e:
        print(f"[{datetime.now()}] é”™è¯¯: {e}")
        return False

def fetch_global_scan():
    """å…¨ç½‘æ‰«æ"""
    print(f"[{datetime.now()}] å¼€å§‹å…¨ç½‘æ‰«æ...")

    cmd = [
        PYTHON,
        str(SCRIPT_DIR / "fetch_news.py"),
        "--source", "all",
        "--limit", "10",
        "--format", "markdown"
    ]

    try:
        result = subprocess.run(cmd, capture_output=True, text=True, encoding='utf-8')
        print(f"[{datetime.now()}] å…¨ç½‘æ‰«æå®Œæˆ")
        return True
    except Exception as e:
        print(f"[{datetime.now()}] é”™è¯¯: {e}")
        return False

def main():
    """ä¸»å‡½æ•°"""
    print("="*60)
    print("News Skills å®šæ—¶è°ƒåº¦å™¨")
    print("="*60)
    print(f"å¯åŠ¨æ—¶é—´: {datetime.now()}")
    print()

    # è®¾ç½®å®šæ—¶ä»»åŠ¡
    # æ¯å¤©æ—©ä¸Š 8 ç‚¹è·å–ç§‘æŠ€æ—©æŠ¥
    schedule.every().day.at("08:00").do(fetch_daily_news)

    # æ¯å¤©ä¸­åˆ 12 ç‚¹è·å– AI ä¸“é¢˜
    schedule.every().day.at("12:00").do(fetch_ai_news)

    # æ¯å¤©æ™šä¸Š 8 ç‚¹å…¨ç½‘æ‰«æ
    schedule.every().day.at("20:00").do(fetch_global_scan)

    # æ¯å°æ—¶è·å–ä¸€æ¬¡ç´§æ€¥æ–°é—»ï¼ˆå¯é€‰ï¼‰
    # schedule.every().hour.do(fetch_global_scan)

    print("å·²è®¾ç½®çš„å®šæ—¶ä»»åŠ¡ï¼š")
    print("  - æ¯å¤© 08:00: ç§‘æŠ€æ—©æŠ¥")
    print("  - æ¯å¤© 12:00: AI ä¸“é¢˜")
    print("  - æ¯å¤© 20:00: å…¨ç½‘æ‰«æ")
    print()
    print("è°ƒåº¦å™¨è¿è¡Œä¸­... (æŒ‰ Ctrl+C åœæ­¢)")
    print("="*60)
    print()

    # è¿è¡Œè°ƒåº¦å™¨
    try:
        while True:
            schedule.run_pending()
            time.sleep(60)  # æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
    except KeyboardInterrupt:
        print("\n\nè°ƒåº¦å™¨å·²åœæ­¢")

if __name__ == "__main__":
    main()
```

### è¿è¡Œè°ƒåº¦å™¨

```bash
cd .claude/skills/news/scripts
python scheduler.py
```

### åå°è¿è¡Œï¼ˆWindowsï¼‰

åˆ›å»º `start_scheduler.bat`ï¼š

```batch
@echo off
start /MIN pythonw scheduler.py
```

åŒå‡»å³å¯åœ¨åå°è¿è¡Œã€‚

---

## æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨ç³»ç»Ÿ Cronï¼ˆLinux/Macï¼‰

### é€‚ç”¨åœºæ™¯
- Linux/Mac ç”¨æˆ·
- æœåŠ¡å™¨ç¯å¢ƒ
- éœ€è¦æ›´ç¨³å®šçš„å®šæ—¶ä»»åŠ¡

### é…ç½® Crontab

1. æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š

```bash
crontab -e
```

2. æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
# æ¯å¤©æ—©ä¸Š 8 ç‚¹è·å–ç§‘æŠ€æ—©æŠ¥
0 8 * * * cd /path/to/.claude/skills/news/scripts && python fetch_news.py --source hackernews,github,36kr,producthunt --limit 15 --format markdown

# æ¯å¤©ä¸­åˆ 12 ç‚¹è·å– AI ä¸“é¢˜
0 12 * * * cd /path/to/.claude/skills/news/scripts && python fetch_news.py --source hackernews,github,producthunt --keyword "AI" --limit 20 --deep --format markdown

# æ¯å¤©æ™šä¸Š 8 ç‚¹å…¨ç½‘æ‰«æ
0 20 * * * cd /path/to/.claude/skills/news/scripts && python fetch_news.py --source all --limit 10 --format markdown
```

3. ä¿å­˜å¹¶é€€å‡º

### æŸ¥çœ‹å®šæ—¶ä»»åŠ¡

```bash
crontab -l
```

---

## æ–¹æ¡ˆå››ï¼šç»“åˆ Claude Code è‡ªåŠ¨åŒ–

### é€‚ç”¨åœºæ™¯
- ä½¿ç”¨ Claude Code çš„ç”¨æˆ·
- éœ€è¦æ›´æ™ºèƒ½çš„å†…å®¹å¤„ç†

### åˆ›å»ºè‡ªåŠ¨åŒ–è„šæœ¬

åœ¨ `news/scripts` ç›®å½•ä¸‹åˆ›å»º `auto_report.py`ï¼š

```python
#!/usr/bin/env python3
"""
è‡ªåŠ¨åŒ–ç”Ÿæˆå¹¶å‘é€æ–°é—»æŠ¥å‘Š
"""
import subprocess
import sys
from pathlib import Path
import shutil

def generate_report():
    """ç”ŸæˆæŠ¥å‘Š"""
    cmd = [
        sys.executable,
        "fetch_news.py",
        "--source", "hackernews,github,36kr,producthunt",
        "--limit", "15",
        "--format", "markdown"
    ]

    result = subprocess.run(cmd, capture_output=True, text=True)
    return result.stdout

def save_to_desktop(content):
    """ä¿å­˜åˆ°æ¡Œé¢"""
    desktop = Path.home() / "Desktop"
    report_file = desktop / f"æ¯æ—¥æ—©æŠ¥_{datetime.now().strftime('%Y%m%d')}.md"

    with open(report_file, 'w', encoding='utf-8') as f:
        f.write(content)

    return report_file

def main():
    content = generate_report()
    report_file = save_to_desktop(content)
    print(f"æŠ¥å‘Šå·²ä¿å­˜åˆ°: {report_file}")

if __name__ == "__main__":
    main()
```

### è®¾ç½®å®šæ—¶ä»»åŠ¡

å‚è€ƒæ–¹æ¡ˆä¸€æˆ–æ–¹æ¡ˆäºŒï¼Œå°†è„šæœ¬æ”¹ä¸º `auto_report.py`ã€‚

---

## æ–¹æ¡ˆäº”ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆé«˜çº§ï¼‰

### ä½¿ç”¨ GitHub Actions

1. åœ¨ GitHub ä»“åº“ä¸­åˆ›å»º `.github/workflows/daily-news.yml`ï¼š

```yaml
name: Daily News Report

on:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤© UTC 0 ç‚¹ï¼ˆåŒ—äº¬æ—¶é—´ 8 ç‚¹ï¼‰
  workflow_dispatch:  # æ”¯æŒæ‰‹åŠ¨è§¦å‘

jobs:
  fetch-news:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.11'

    - name: Install dependencies
      run: |
        cd .claude/skills/news
        pip install -r requirements.txt

    - name: Fetch news
      run: |
        cd .claude/skills/news/scripts
        python fetch_news.py --source all --limit 15 --format markdown

    - name: Upload reports
      uses: actions/upload-artifact@v2
      with:
        name: news-report
        path: .claude/skills/news/scripts/reports/*.md
```

### ä½¿ç”¨ IFTTT / Zapier

1. åˆ›å»º Webhook æ¥æ”¶æŠ¥å‘Š
2. è®¾ç½®å®šæ—¶è§¦å‘
3. è‡ªåŠ¨å‘é€åˆ°é‚®ç®±ã€Slackã€Telegram ç­‰

---

## ğŸ¯ æ¨èæ–¹æ¡ˆæ€»ç»“

| ç”¨æˆ·ç±»å‹ | æ¨èæ–¹æ¡ˆ | éš¾åº¦ |
|----------|----------|------|
| **Windows æ™®é€šç”¨æˆ·** | æ–¹æ¡ˆä¸€ï¼šä»»åŠ¡è®¡åˆ’ç¨‹åº | â­ |
| **å¼€å‘è€…** | æ–¹æ¡ˆäºŒï¼šPython è°ƒåº¦å™¨ | â­â­ |
| **Linux/Mac ç”¨æˆ·** | æ–¹æ¡ˆä¸‰ï¼šCron | â­â­ |
| **GitHub ç”¨æˆ·** | æ–¹æ¡ˆäº”ï¼šGitHub Actions | â­â­â­ |

---

## ğŸ’¡ è¿›é˜¶æŠ€å·§

### 1. å‘é€åˆ°å¾®ä¿¡/é‚®ä»¶

ä½¿ç”¨ `serverchan` æˆ– `mailgun` æœåŠ¡ï¼Œåœ¨è„šæœ¬ä¸­æ·»åŠ é€šçŸ¥åŠŸèƒ½ã€‚

### 2. ç”Ÿæˆ HTML é‚®ä»¶

```python
# ç”Ÿæˆ HTML æ ¼å¼ï¼Œæ›´ç¾è§‚çš„é‚®ä»¶
cmd = [..., "--format", "html"]
```

### 3. è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™

```python
# åœ¨ scheduler.py ä¸­æ·»åŠ è‡ªå®šä¹‰è¿‡æ»¤
keywords = {
    "æ—©æŠ¥": ["AI", "LLM", "ç§‘æŠ€"],
    "è´¢ç»": ["è‚¡ç¥¨", "åŸºé‡‘", "åŠ å¯†è´§å¸"],
}
```

### 4. å¤šæ¸ é“åˆ†å‘

åŒä¸€ä¸ªæŠ¥å‘Šå¯ä»¥ï¼š
- ä¿å­˜åˆ°æœ¬åœ°
- å‘é€åˆ°é‚®ç®±
- æ¨é€åˆ° Telegram/Slack
- ä¸Šä¼ åˆ°äº‘ç›˜

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç”µè„‘ä¼‘çœ **ï¼šç¡®ä¿å®šæ—¶ä»»åŠ¡è¿è¡Œæ—¶ç”µè„‘ä¸ç¡çœ 
2. **ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿æœ‰ç¨³å®šçš„ç½‘ç»œ
3. **æŠ¥å‘Šæ¸…ç†**ï¼šå®šæœŸæ¸…ç†æ—§çš„æŠ¥å‘Šæ–‡ä»¶
4. **æ—¥å¿—è®°å½•**ï¼šå»ºè®®å¼€å¯æ—¥å¿—ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé…ç½®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥ Python ç‰ˆæœ¬ï¼ˆéœ€è¦ 3.7+ï¼‰
2. æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…å®Œæ•´
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `news_aggregator.log`
4. åœ¨è¯„è®ºåŒºæé—®

ç¥ä½¿ç”¨æ„‰å¿«ï¼
